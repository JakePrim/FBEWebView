(function(f){var d;function b(g,k){var j=document;var h=j.head||(j.getElementsByTagName("head")[0]||j.documentElement);var i=j.createElement("script");i.onload=k;i.onerror=function(){};i.async=true;i.src=g[0];h.appendChild(i)}if(typeof Object.assign!="function"){Object.assign=function(j){if(j==null){throw new TypeError("Cannot convert undefined or null to object")}j=Object(j);for(var g=1;g<arguments.length;g++){var i=arguments[g];if(i!=null){for(var h in i){if(Object.prototype.hasOwnProperty.call(i,h)){j[h]=i[h]}}}}return j}}function e(g){return g.replace(/(^\s*)|(\s*$)/g,"")}function a(h){var g=window.navigator.userAgent,k=g.slice(g.indexOf("?")),i=new RegExp("(^|&)"+h+"=([^&]*)(&|$)","i");var j=k.substr(1).match(i);if(j!=null){return unescape(j[2])}return null}function c(){var g={env:a("env"),isIOS:/iphone|ipad|ipod/.test(window.navigator.userAgent.toLowerCase()),isAndroid:/android/.test(window.navigator.userAgent.toLowerCase()),platform:function(){if(this.isIOS){return"IOS"}if(this.isAndroid){return"Android"}},isNative:typeof nativeBridge!="undefined",isNativeUA:navigator.userAgent.match(/DailyNewspaper/i)?true:false,uaData:function(){if(!this.isNativeUA){return false}var i=navigator.userAgent,k=i.slice(i.indexOf("DailyNewspaper"));k=k.slice(0,k.indexOf("?"));var h=k.match(/DailyNewspaper\/(\S*)\s?\(/)[1],j=k.slice(k.indexOf("(")+1,-1).split(";");if(this.isIOS){j[1]=j[1].replace("iOS ","")}return{version:h,sys:e(j[0]),sysver:e(j[1]),model:e(j[2])}},compareVer:function(k,m){if(!this.isNativeUA){return false}if(k){var l=!m?this.uaData().version.split("."):this.uaData().sysver.split(".");var j=k.split(".");var i=Math.min(l.length,j.length),h=0,n=0;while(h<i&&((n=parseInt(l[h])-parseInt(j[h]))==0)){h++}n=(n!=0)?n:(l.length-j.length);return n>=0}else{console.error("compareVer：请传入版本号字符串")}},base:{},article:{},request:function(h,l,p,n){if(!this.isNativeUA){return false}var k={methodName:p||null,errorMethodName:n||null},i={};if(h=="internalJump"||h=="linkJump"){var o=typeof l=="string"?JSON.parse(l):l;i.data=this.isIOS?JSON.stringify(o):o}else{if(h.indexOf("Share")>0){i.shareData=l}else{i=l}}k=Object.assign(k,i);var j=JSON.stringify(k);try{nativeBridge[h](j)}catch(m){console.error("调用 nativeBridge[method](jsonStr) 出错");console.error("只有人民日报客户端内才有全局变量 nativeBridge")}}};return g}if(typeof define==="function"&&(define.cmd||define.amd)){if(define.cmd){d=seajs.use}else{if(define.amd){d=window.require}}define(function(){return c()})}else{d=b;window.Bridge=c()}})(typeof window!=="undefined"?window:global);